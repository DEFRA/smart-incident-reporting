{% from "dist/govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}
{% from "dist/govuk/components/skip-link/macro.njk" import govukSkipLink %}
{% set description = "Cookies on the " + serviceName + " service" %}

<noscript>
  {{ govukCookieBanner({
  ariaLabel: serviceName,
  messages: [
    {
      headingText: description,
      actions: [
        {
          text: "View cookies",
          href: "/cookies"
        }
      ],
      text: "We use cookies to make this service work and collect analytics information. To accept or reject cookies, turn on JavaScript in your browser settings or reload this page."
    }
  ]
}) }}
</noscript>
<div class="js-cookie-banner-container defra-js-show" hidden>
  {% set html %}
  <p>We use some essential cookies to make this service work.</p>
  <p>We'd also like to use analytics cookies so we can understand how people use this service and make improvements.</p>
  {% endset %}

  {% set acceptHtml %}
  <p>You've accepted analytics cookies. You can
    <a class="govuk-link" href="/cookies">change your cookie settings</a>
    at any time.</p>
  {% endset %}

  {% set rejectHtml %}
  <p>You've rejected analytics cookies. You can
    <a class="govuk-link" href="/cookies">change your cookie settings</a>
    at any time.</p>
  {% endset %}

  {{ govukCookieBanner({
    ariaLabel: description,
    classes: "js-cookies-banner",
    messages: [
      {
        headingText: description,
        html: html,
        classes: "js-question-banner",
        actions: [
          {
            text: "Accept analytics cookies",
            type: "button",
            name: "cookies",
            value: "accept",
            classes: "js-cookies-button-accept"
          },
          {
            text: "Reject analytics cookies",
            type: "button",
            name: "cookies",
            value: "reject",
            classes: "js-cookies-button-reject"
          },
          {
            text: "View cookies",
            href: "/cookies"
          }
        ]
      },{
        html: acceptHtml,
        role: "alert",
        hidden: true,
        classes: "js-cookies-accepted",
        actions: [
          {
            text: "Hide cookie message",
            classes: "js-hide"
          }
        ]
      },
      {
        html: rejectHtml,
        role: "alert",
        hidden: true,
        classes: "js-cookies-rejected",
        actions: [
          {
            text: "Hide cookie message",
            classes: "js-hide"
          }
        ]
      }
    ]
  }) }}

  {{ govukSkipLink({
    text: "Skip to main content 02",
    href: "#main-content"
  }) }}
</div>
